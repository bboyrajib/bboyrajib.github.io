(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},25:function(e,t,n){e.exports=n(38)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(22),s=n.n(l),c=(n(30),n(3)),r=n(4),o=n(6),m=n(5),u=n(7),h=(n(31),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"jumbotron"},i.a.createElement("h1",{className:"greenText text-center"},"Finding Falcone"),i.a.createElement("div",{className:"text-center"},i.a.createElement("span",{className:"navbar-brand whiteText"},"a coding challenge by ",i.a.createElement("code",null,i.a.createElement("a",{target:"_blank",className:"pinkText",rel:"noopener noreferrer",href:"https://www.geektrust.in"},"www.geektrust.in")))))}}]),t}(a.Component)),d=(n(32),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("footer",{className:"navbar-fixed-bottom footer-bg"},i.a.createElement("div",{className:"footer-copyright text-center py-3"},"\xa9 GeekTrust 2019 \xa0",i.a.createElement("a",{target:"_blank",className:"text-white",rel:"noopener noreferrer",href:"https://www.geektrust.in/coding-problem/frontend/space"}," Finding Falcone")))}}]),t}(a.Component)),p=n(10),f=(n(20),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h3",null,"Planet ",this.props.id),i.a.createElement("select",{onChange:this.props.onChange,className:"m-3",name:this.props.name,value:this.props.destinationProps.destination},i.a.createElement("option",null,this.props.destinationProps.destination),this.props.planets.map(function(e){return i.a.createElement("option",{key:e.name},e.name)})),i.a.createElement("br",null))}}]),t}(a.Component)),v=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"vehicles text-left"},this.props.destinationProps.eligibleVehicles.map(function(t){return i.a.createElement(i.a.Fragment,{key:t.name},i.a.createElement("input",{disabled:0===e.props.vehicleCount.filter(function(e){return e.name===t.name})[0].total_no,onChange:e.props.onChange,checked:0!==e.props.destinationProps.vehicle.length&&null,type:"radio",name:e.props.destinationProps.name,value:t.name}),i.a.createElement("label",{className:"m-2"},t.name," (",e.props.vehicleCount.filter(function(e){return e.name===t.name})[0].total_no,")"),i.a.createElement("br",null))}))}}]),t}(a.Component),g=n(12),b=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={planets:[],destinations:[{id:"One",name:"planetOne",destination:"----",vehicle:"",timeTaken:0,isSelected:!1,eligibleVehicles:[]},{id:"Two",name:"planetTwo",destination:"----",vehicle:"",timeTaken:0,isSelected:!1,eligibleVehicles:[]},{id:"Three",name:"planetThree",destination:"----",vehicle:"",timeTaken:0,isSelected:!1,eligibleVehicles:[]},{id:"Four",name:"planetFour",destination:"----",vehicle:"",timeTaken:0,isSelected:!1,eligibleVehicles:[]}],vehicles:[],disabled:!0,totalTime:0},n.originalVehicles=[],n.originalPlanetList=[],n.callPlanetsAPI=function(){fetch("https://findfalcone.herokuapp.com/planets").then(function(e){return e.json()}).then(function(e){n.setState({planets:e}),n.originalPlanetList.push(e)})},n.callVehiclesAPI=function(){fetch("https://findfalcone.herokuapp.com/vehicles").then(function(e){return e.json()}).then(function(e){n.setState({vehicles:e}),n.originalVehicles.push(e)})},n.handleChange=function(e){var t=n.state.destinations.filter(function(t){return e.target.name===t.name});if(!1===t[0].isSelected){var a=n.state.planets.filter(function(t){return t.name!==e.target.value});n.setState({planets:a})}else{var i=t[0],l=n.originalPlanetList[0].filter(function(e){return e.name===i.destination}),s=Object(p.a)(n.state.planets);s.push(l[0]);var c=s.filter(function(t){return t.name!==e.target.value});n.setState({planets:c})}var r=Object(p.a)(n.state.destinations);r.map(function(t){return t.name===e.target.name&&(t.isSelected=!0,t.destination=e.target.value,t.vehicle="",t.timeTaken=0),""}),n.setState({destinations:r});var o=n.state.planets.filter(function(t){return t.name===e.target.value});n.handleVehicles(o,e)},n.handleVehicles=function(e,t){var a=n.state.vehicles.filter(function(t){return t.max_distance>=e[0].distance}),i=Object(p.a)(n.state.destinations);i.map(function(e){return e.name===t.target.name&&(e.eligibleVehicles=a),""}),n.setState({destinations:i})},n.handleReset=function(){n.setState({planets:[],destinations:[{id:"One",name:"planetOne",destination:"----",vehicle:"",timeTaken:0,isSelected:!1},{id:"Two",name:"planetTwo",destination:"----",vehicle:"",timeTaken:0,isSelected:!1},{id:"Three",name:"planetThree",destination:"----",vehicle:"",timeTaken:0,isSelected:!1},{id:"Four",name:"planetFour",destination:"----",vehicle:"",timeTaken:0,isSelected:!1}],vehicles:[],disabled:!0,totalTime:0}),n.callPlanetsAPI(),n.callVehiclesAPI()},n.handleVehicleChange=function(e){var t=Object(p.a)(n.state.destinations);t.map(function(t){return t.name===e.target.name&&(""===t.vehicle?n.handleVehicleCountWhenNotSelected(e):n.handleVehicleCountWhenSelected(e),t.vehicle=e.target.value),""}),n.setState({destinations:t}),n.changeButtonState(),n.handleTime(e)},n.handleVehicleCountWhenNotSelected=function(e){var t=Object(p.a)(n.state.vehicles);t.map(function(t){return e.target.value===t.name&&(t.total_no-=1),""}),n.setState({vehicles:t})},n.handleVehicleCountWhenSelected=function(e){var t=n.state.destinations.filter(function(t){return t.name===e.target.name})[0].vehicle,a=Object(p.a)(n.state.vehicles);a.map(function(n){return e.target.value===n.name&&(n.total_no-=1),n.name===t&&(n.total_no+=1),""}),n.setState({vehicles:a})},n.changeButtonState=function(){var e=n.state.destinations.every(function(e){return e.vehicle.length>0});n.setState({disabled:!e})},n.handleTime=function(e){var t=n.state.destinations.filter(function(t){return t.name===e.target.name})[0].destination,a=n.originalPlanetList[0].filter(function(e){return t===e.name})[0].distance/n.state.vehicles.filter(function(t){return t.name===e.target.value})[0].speed,i=Object(p.a)(n.state.destinations);i.map(function(t){return t.name===e.target.name&&(t.timeTaken=a),""}),n.setState({destinations:i}),n.calculateTotalTime()},n.calculateTotalTime=function(){var e=Object(p.a)(n.state.destinations),t=0;e.map(function(e){return t+=e.timeTaken,""}),n.setState({totalTime:t})},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.callPlanetsAPI(),this.callVehiclesAPI()}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{id:"reset",className:"btn btn-danger float-right",onClick:this.handleReset,type:"submit"},"Reset"),i.a.createElement("div",{className:"myCont container h-100 d-flex flex-column"},i.a.createElement("h3",null,"Time taken: ",i.a.createElement("span",{className:"badge badge-warning"},this.state.totalTime)),i.a.createElement("h1",{className:"text-center p-5"},"Select the planets you want to send vehicles to:"),i.a.createElement("div",{id:"main"},i.a.createElement("div",{className:"row destination text-center"},this.state.destinations.map(function(t){return i.a.createElement("div",{key:t.id,style:t.isSelected?null:{height:"min-content"},className:"col myCard"},i.a.createElement(f,{planets:e.state.planets,onChange:e.handleChange,destinationProps:t,name:t.name,key:t.id,id:t.id}),t.isSelected?i.a.createElement(v,{vehicleCount:e.state.vehicles,onChange:e.handleVehicleChange,destinationProps:t}):null)}),i.a.createElement("br",null),i.a.createElement("br",null)),i.a.createElement("div",{className:"row justify-content-center"},i.a.createElement(g.b,{disabled:!0,to:{pathname:"/success",state:this.state.destinations,fromGame:!0,totalTime:this.state.totalTime}},i.a.createElement("button",{disabled:this.state.disabled,className:"btn btn-lg btn-success"},"Find Falcone!"))))))}}]),t}(a.Component),E=(n(37),function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).planetNames=[],n.vehicleNames=[],n.state={successMessage:"",planet:"",totalTime:""},n.getTokenAPI=function(){fetch("https://findfalcone.herokuapp.com/token",{method:"POST",headers:{Accept:"application/json"},body:{}}).then(function(e){return e.json()}).then(function(e){n.findFalconeAPI(e.token,n.planetNames,n.vehicleNames)})},n.findFalconeAPI=function(e,t,a){n.setState({successMessage:"Please wait while we calculate.."}),fetch("https://findfalcone.herokuapp.com/find",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({token:e,planet_names:t,vehicle_names:a})}).then(function(e){return e.json()}).then(function(e){"error"===e.status||void 0===e||!0!==n.props.location.fromGame?(n.setState({successMessage:"Please re-initialize the game!"}),n.props.history.push("/")):"false"===e.status?n.setState({successMessage:"Sorry! You could not find Falcone!"}):n.setState({successMessage:"Congrats! You found Falcone! King Shan is pleased!",planet:e.planet_name})})},n}return Object(u.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.state;void 0!==e&&(this.planetNames=e.map(function(e){return e.destination}),this.vehicleNames=e.map(function(e){return e.vehicle})),this.setState({totalTime:this.props.location.totalTime}),this.getTokenAPI()}},{key:"render",value:function(){var e=this.state.planet;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"container h-100 d-flex flex-column"},i.a.createElement("div",{id:"main-success"},i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-md-12"},i.a.createElement("h1",{className:"text-center p-5"},this.state.successMessage))),i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-md-12"},(null!==e||void 0!==e)&&e.length>0?i.a.createElement("h2",{className:"m-2"},"Planet - ",i.a.createElement("code",{className:"badge badge-primary"},e)):null)),i.a.createElement("div",{className:"row text-center"},i.a.createElement("div",{className:"col-md-12"},(null!==e||void 0!==e)&&e.length>0?i.a.createElement("h2",{className:"m-2"},"Time taken - ",i.a.createElement("code",{className:"badge badge-info"},this.state.totalTime)):null)),i.a.createElement("div",{className:"row back-btn justify-content-center"},i.a.createElement(g.b,{to:"/"},i.a.createElement("button",{className:"btn btn-lg btn-success"},"Play Again!"))))))}}]),t}(a.Component)),j=n(11);var k=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(h,null),i.a.createElement(g.a,null,i.a.createElement(j.c,null,i.a.createElement(j.a,{path:"/",exact:!0,component:b}),i.a.createElement(j.a,{path:"/success",component:E}))),i.a.createElement(d,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);