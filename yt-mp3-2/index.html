<html>
	<head>
		<link rel="icon">
	</head>
	<body class="body">
		<div style="top:50%;padding:20px;display:flex; flex-direction: column; align-items: center;">
			<input required id="vid" placeholder="Enter a valid YT videoID/URL" />
			<br>
			<button onclick="setAudioSource()">Go!</button>	
			<br>		
			<audio id="youtube" controls autoplay>
			</audio>
		</div>
		
		
		<script type="text/javascript">
			async function postData(url = '', data = {}) {
				  const response = await fetch(url, {
				    method: 'POST', 
				    headers: {
				      'Content-Type': 'application/json'
				    },
				    body: JSON.stringify(data)
				  });
				  return response.json();
				}
			function setAudioSource(){
			 	var id = document.getElementById("vid").value;
			 	var data = {};
			 	data["id"] = id;
			 	postData('https://in.api.shareplay.ml/v2/getAudioURL', data)
				  .then(data => {
				    console.log(data);
				    var youtubeAudio = document.getElementById('youtube'); 
				    youtubeAudio.src = data.message.uri;
				    youtubeAudio.play();
				  });
			 }
		</script>
	</body>
</html>